<?php/*///////////////////////////////////////////////////////////////////////This store-address.php is an example file of using PHP to handle adding E-Mail request to E-Mail Chimp by web servicesThe original storeAddress is using $_GETBased on the original storeAddress funciton, a new function is generated by using $_POST.By jason@catalystworkshop.com///////////////////////////////////////////////////////////////////////*/// If being called via ajax using post//if(isset($_POST['emailsubscription']) && $_POST['emailsubscription'] == "go"){	$email = $_POST['email'];	//echo storeAddress2($email);	echo $email;//}/*//original storeAddress functionfunction storeAddress(){		// Validation	if(!$_GET['email']){ return "No email address provided"; } 	if(!preg_match("/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*$/i", $_GET['email'])) {		return "Email address is invalid"; 	}	require_once('MCAPI.class.php');	// grab an API Key from http://admin.mailchimp.com/account/api/	$api = new MCAPI('af1be40bb4f8ee6ce47757bb66524c95-us4');		// grab your List's Unique Id by going to http://admin.mailchimp.com/lists/	// Click the "settings" link for the list - the Unique Id is at the bottom of that page. 	$list_id = "3c43eafba0";	if($api->listSubscribe($list_id, $_GET['email'], '') === true) {		// It worked!			return 'Success! Check your email to confirm sign up.';	}else{		// An error ocurred, return error message			return 'Error: ' . $api->errorMessage;	}}//new function to store addressfunction storeAddress2($email){		// Validation	if(!$email){ return "No email address provided"; } 	if(!preg_match("/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*$/i", $email)) {		return "Email address is invalid"; 	}	require_once('MCAPI.class.php');	// grab an API Key from http://admin.mailchimp.com/account/api/	$api = new MCAPI('af1be40bb4f8ee6ce47757bb66524c95-us4');		// grab your List's Unique Id by going to http://admin.mailchimp.com/lists/	// Click the "settings" link for the list - the Unique Id is at the bottom of that page. 	$list_id = "3c43eafba0";	if($api->listSubscribe($list_id, $email, '') === true) {		// It worked!		return 'Success! Check your email to confirm sign up.';	}else{		// An error ocurred, return error message			return 'Error: ' . $api->errorMessage;	}}// If being called via ajax, autorun the function//if($_GET['ajax']){ echo storeAddress(); }*/?>